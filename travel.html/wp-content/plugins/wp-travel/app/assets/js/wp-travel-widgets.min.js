function GetConvertedPrice(e){var t="undefined"!=typeof wp_travel&&void 0!==wp_travel.conversion_rate?wp_travel.conversion_rate:1,a="undefined"!=typeof wp_travel&&void 0!==wp_travel.number_of_decimals?wp_travel.number_of_decimals:2,t=parseFloat(t).toFixed(2);return parseFloat(e*t).toFixed(a)}jQuery(function(r){function s(e){for(var t,a=null,i=location.search.substr(1).split("&"),l=0;l<i.length;l++)(t=i[l].split("="))[0]===e&&(a=decodeURIComponent(t[1]));return a}r(document).ready(function(){var e=[],t=0,a=0,i=0,l=0;0<(e="object"==typeof wp_travel.prices?wp_travel.prices.map(function(e){return parseInt(e,10)}):e).length&&(t=Math.min.apply(null,e),a=Math.max.apply(null,e),t=parseInt(GetConvertedPrice(t)),a=parseInt(GetConvertedPrice(a))),i=s("min_price")?s("min_price"):t,l=s("max_price")?s("max_price"):a,r(".wp-travel-range-slider").slider({range:!0,min:t,max:a,values:[i,l],slide:function(e,t){r(".price-amount").val(wp_travel.currency_symbol+t.values[0]+" - "+wp_travel.currency_symbol+t.values[1]),r(".wp-travel-range-slider").siblings(".wp-travel-filter-price-min").val(t.values[0]),r(".wp-travel-range-slider").siblings(".wp-travel-filter-price-max").val(t.values[1])}}),r(".price-amount").val(wp_travel.currency_symbol+r(".wp-travel-range-slider").slider("values",0)+" - "+wp_travel.currency_symbol+r(".wp-travel-range-slider").slider("values",1)),r(".trip-duration-calender input").wpt_datepicker({language:wp_travel.locale})}),r(".wp-travel-filter-submit-shortcode").on("click",function(){r(this).siblings(".wp-travel-filter-view-mode").data("mode");var e=(e=r(this).siblings(".wp-travel-filter-archive-url").val())||window.location.pathname,a=(query_string="",window.location.search&&(query_string=window.location.search),new URL(e+query_string)),i=a.searchParams,e=r(this).siblings(".wptravel_filter-data-index").data("index"),e=(r(".wp_travel_search_filters_input"+e).each(function(){var e=r(this).attr("name"),t=r(this).val();i.set(e,t),a.search=i.toString()}),a.toString());window.location=e}),r(".wp-travel-filter-search-submit").on("click",function(){r(this).siblings(".wp-travel-widget-filter-view-mode").data("mode");var e=(e=r(this).siblings(".wp-travel-widget-filter-archive-url").val())||window.location.pathname,a=(query_string="",new URL(e+query_string)),i=a.searchParams,e=r(this).siblings(".filter-data-index").data("index"),e=(r(".wp_travel_search_widget_filters_input"+e).each(function(){var e=r(this).attr("name"),t=r(this).val();i.set(e,t),a.search=i.toString()}),a.toString());console.log(e),window.location=e});r("body").off("submit","#wp-travel-enquiries"),r("#wp-travel-enquiries").submit(function(e){e.preventDefault(),r(".enquiry-response").remove();var e=r("#wp-travel-enquiries").serializeArray(),t=(e.push({name:"nonce",value:wp_travel.nonce}),r("#wp_travel_label_processing").val()),a=r("#wp_travel_label_submit_enquiry").val();r.ajax({type:"POST",url:wp_travel.ajaxUrl,data:e,beforeSend:function(){r("#wp-travel-enquiry-submit").addClass("loading-bar loading-bar-striped active").val(t).attr("disabled","disabled")},success:function(e){var t;return 0==e.success?(t='<span class="enquiry-response enquiry-error-msg">'+e.data.message+"</span>",r("#wp-travel-enquiries").append(t)):1==e.success&&(t='<span class="enquiry-response enquiry-success-msg">'+e.data.message+"</span>",r("#wp-travel-enquiries").append(t),setTimeout(function(){jQuery("#wp-travel-send-enquiries").magnificPopup("close"),r("#wp-travel-enquiries .enquiry-response ").hide()},"3000")),r("#wp-travel-enquiry-submit").removeClass("loading-bar loading-bar-striped active").val(a).removeAttr("disabled","disabled"),r("#wp-travel-enquiry-name").val(""),r("#wp-travel-enquiry-email").val(""),r("#wp-travel-enquiry-query").val(""),!1}}),r("#wp-travel-enquiries").trigger("reset")}),r(document).on("click",".btn-wptravel-filter-by-shortcodes-itinerary",function(){var e=r(this).parent(".wp-travel-filter-by-heading");e&&e.siblings(".wp-toolbar-filter-field")&&(e.siblings(".wp-toolbar-filter-field, .wp-travel-filter-button").toggleClass("show-in-mobile"),e.siblings(".wp-toolbar-filter-field").hasClass("show-in-mobile")?r(this).addClass("active"):r(this).removeClass("active"))}),r(document).on("click",".edit-trip a",function(){r(".checkout-trip-extras").css("display","none")}),r(document).on("click",".edit-pax-selector-qty",function(){var e=document.getElementsByClassName("edit-pax-"+r(this).attr("data-cart")),t=document.getElementsByClassName("wp-trave-pax-selected-frontend-second");if(1==r(this).attr("data-allpricing")){if($flag=1,0<e.length){for(var a=0;a<e.length;a++)parseFloat(e[a].value)<r(this).attr("data-minpax")&&($flag=0);0==$flag?r(".cart-edit-"+r(this).attr("data-cart")).addClass("btn-disable"):r(".cart-edit-"+r(this).attr("data-cart")).removeClass("btn-disable")}if(0<t.length){for(a=0;a<t.length;a++)parseFloat(t[a].value)<r(this).attr("data-minpax")&&($flag=0);0==$flag?r(".wp-travel-book").addClass("btn-disable"):r(".wp-travel-book").removeClass("btn-disable")}}else{for(var i=0,a=0;a<e.length;a++)parseFloat(e[a].value)&&(i+=parseFloat(e[a].value));i<r(this).attr("data-minpax")?r(".cart-edit-"+r(this).attr("data-cart")).addClass("btn-disable"):r(".cart-edit-"+r(this).attr("data-cart")).removeClass("btn-disable")}})}),jQuery(function(t){t(document).on("click",".open-quick-view-modal",function(e){e.preventDefault(),t(this).siblings(".wp-travel-quick-view-modal").show(),t(".modal-overlay").show()}),t(document).on("click",".close-modal",function(e){e.preventDefault(),t(this).closest(".wp-travel-quick-view-modal").hide(),t(".modal-overlay").hide()}),t(document).on("click",".modal-overlay",function(e){e.preventDefault(),t(".wp-travel-quick-view-modal").hide(),t(".modal-overlay").hide()}),t(".wp-travel-quick-view #overview").show(),t(".wp-travel-quick-view ul.tab-list li").addClass("resp-tab-active"),t(".wp-travel-quick-view .tab-list-content").addClass("resp-tab-content-active"),t(document).on("click",".wp-travel-quick-view ul.tab-list .overview",function(e){e.preventDefault(),t(".wp-travel-quick-view ul.tab-list li").removeClass("resp-tab-active"),t(this).addClass("resp-tab-active"),t(".wp-travel-quick-view .tab-list-content").hide(),t(".wp-travel-quick-view #overview").show()}),t(document).on("click",".wp-travel-quick-view ul.tab-list .trip_outline",function(e){e.preventDefault(),t(".wp-travel-quick-view ul.tab-list li").removeClass("resp-tab-active"),t(this).addClass("resp-tab-active"),t(".wp-travel-quick-view .tab-list-content").hide(),t(".wp-travel-quick-view #trip_outline").show()}),t(document).on("click",".wp-travel-quick-view ul.tab-list .trip_includes",function(e){e.preventDefault(),t(".wp-travel-quick-view ul.tab-list li").removeClass("resp-tab-active"),t(this).addClass("resp-tab-active"),t(".wp-travel-quick-view .tab-list-content").hide(),t(".wp-travel-quick-view #trip_includes").show()}),t(document).on("click",".wp-travel-quick-view ul.tab-list .trip_excludes",function(e){e.preventDefault(),t(".wp-travel-quick-view ul.tab-list li").removeClass("resp-tab-active"),t(this).addClass("resp-tab-active"),t(".wp-travel-quick-view .tab-list-content").hide(),t(".wp-travel-quick-view #trip_excludes").show()}),t(document).on("click",".wp-travel-quick-view ul.tab-list .gallery",function(e){e.preventDefault(),t(".wp-travel-quick-view ul.tab-list li").removeClass("resp-tab-active"),t(this).addClass("resp-tab-active"),t(".wp-travel-quick-view .tab-list-content").hide(),t(".wp-travel-quick-view #gallery").show()})});